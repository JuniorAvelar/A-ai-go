"use strict";(self["webpackChunkacai_go"]=self["webpackChunkacai_go"]||[]).push([[594],{5261:function(s,t,a){a.r(t),a.d(t,{default:function(){return x}});var e=a(6768),o=a(5130),n=a(4232);const d=["value"],i={class:"pedidos-container"},c={class:"peddido-header"},l={class:"pedido-content"},u={class:"strong"},p={class:"text-sub"},r={class:"strong"},h={class:"text-sub"},k={class:"strong"},g={class:"text-sub"},m={class:"strong"},v={class:"text-sub"},L={key:0,class:"strong"},b={class:"text-sub"},C={class:"buttons-control"},S=["onClick"],_=["onClick"],f={key:1};function y(s,t,a,y,P,A){const E=(0,e.g2)("mensagem");return(0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.bo)((0,e.bF)(E,{msg:P.msg},null,8,["msg"]),[[o.aG,P.msg]]),t[6]||(t[6]=(0,e.Lk)("h1",null,"Pedidos",-1)),(0,e.bo)((0,e.Lk)("select",{class:"select-status","onUpdate:modelValue":t[0]||(t[0]=s=>P.statusSelecionado=s)},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(P.statusApi,(s=>((0,e.uX)(),(0,e.CE)("option",{key:s.id,value:s.nome},(0,n.v_)(s.nome),9,d)))),128))],512),[[o.u1,P.statusSelecionado]]),(0,e.Lk)("div",i,[P.pedidos.length?((0,e.uX)(!0),(0,e.CE)(e.FK,{key:0},(0,e.pI)(A.filterStatus,(s=>((0,e.uX)(),(0,e.CE)("div",{class:"pedido",key:s.id},[(0,e.Lk)("div",c,[(0,e.Lk)("span",null,"ID: #"+(0,n.v_)(s.id),1),(0,e.Lk)("span",null,"Nome: "+(0,n.v_)(s.nome),1),(0,e.Lk)("div",{class:(0,n.C4)(["status-pedido ",s.status])},(0,n.v_)(s.status),3)]),(0,e.Lk)("div",l,[(0,e.Lk)("span",u,[t[1]||(t[1]=(0,e.eW)("Tamaho: ")),(0,e.Lk)("span",p,(0,n.v_)(s.tamanho),1)]),(0,e.Lk)("span",r,[t[2]||(t[2]=(0,e.eW)("Base: ")),(0,e.Lk)("span",h,(0,n.v_)(s.base),1)]),(0,e.Lk)("span",k,[t[3]||(t[3]=(0,e.eW)("Frutas: ")),(0,e.Lk)("span",g,(0,n.v_)(s.frutas.join(", ")),1)]),(0,e.Lk)("span",m,[t[4]||(t[4]=(0,e.eW)("Cremes: ")),(0,e.Lk)("span",v,(0,n.v_)(s.cremes.join(", ")),1)]),s.observacao.length?((0,e.uX)(),(0,e.CE)("span",L,[t[5]||(t[5]=(0,e.eW)("Obs: ")),(0,e.Lk)("span",b,(0,n.v_)(s.observacao),1)])):(0,e.Q3)("",!0)]),(0,e.Lk)("div",C,[(0,e.Lk)("button",{class:"button-pronto",onClick:t=>A.updatedStatus(s,"Pronto")},"Pronto",8,S),(0,e.Lk)("button",{class:"button-cancelar",onClick:t=>A.cancelarPedido(s)},"Cancelar",8,_)])])))),128)):((0,e.uX)(),(0,e.CE)("h2",f,"Sem pedidos no momento"))])],64)}a(8111),a(2489);var P=a(4373),A=a(8490),E={name:"Pedidos",components:{Mensagem:A.A},data(){return{pedidos:[],statusApi:[],msg:"",statusSelecionado:""}},methods:{async getPedidos(){const s=await P.A.get("http://localhost:3000/pedidos");this.pedidos=s.data},async getStatus(){const s=await P.A.get("http://localhost:3000/status");this.statusApi=s.data,this.statusSelecionado=this.statusApi[0].nome},async updatedStatus(s,t){try{await P.A.patch(`http://localhost:3000/pedidos/${s.id}`,{status:t}),this.getPedidos(),this.getStatus()}catch(a){console.log("Erro ao atulizar o pedido",a)}},async cancelarPedido(s){try{await P.A.delete(`http://localhost:3000/pedidos/${s.id}`),this.getPedidos(),this.getStatus()}catch(t){console.log("Erro ao apagar o pedido",t)}this.msg="Pedido cancelado com sucesso!",setTimeout((()=>{this.msg=""}),2e3)}},mounted(){this.getPedidos(),this.getStatus()},computed:{filterStatus(){return"Todos"===this.statusSelecionado?this.pedidos:this.pedidos.filter((s=>s.status===this.statusSelecionado))}}},X=a(1241);const w=(0,X.A)(E,[["render",y],["__scopeId","data-v-3e7fd888"]]);var x=w}}]);
//# sourceMappingURL=about.a10345de.js.map